{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductsComponent = class ProductsComponent {\n  constructor(R, productS) {\n    this.R = R;\n    this.productS = productS;\n    this.error = false;\n  }\n  ngOnInit() {\n    this.getProducts();\n  }\n  getProducts() {\n    this.productS.getAllproducts().subscribe(data => this.productList = data);\n  }\n  Buy(P) {\n    P.quantity--;\n    this.productS.updateProduct(P.id, P).subscribe(() => this.getProducts());\n  }\n  Like(P) {\n    P.like++;\n  }\n  showDetails(id) {\n    this.R.navigate(['productDetails', id]);\n  }\n  delete(P) {\n    this.productS.deleteProduct(P.id).subscribe(() => {\n      alert('Deleted!');\n      this.getProducts();\n      //this.R.navigate(['/product']);\n    });\n  }\n};\n\nProductsComponent = __decorate([Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})], ProductsComponent);\nexport { ProductsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAK1BC,YAAoBC,CAAS,EAAUC,QAAuB;IAA1C,MAAC,GAADD,CAAC;IAAkB,aAAQ,GAARC,QAAQ;IAJjD,UAAK,GAAE,KAAK;EAIsD;EAEhEC,QAAQ;IACJ,IAAI,CAACC,WAAW,EAAE;EACpB;EACNA,WAAW;IACT,IAAI,CAACF,QAAQ,CAACG,cAAc,EAAE,CAACC,SAAS,CACtCC,IAAI,IAAK,IAAI,CAACC,WAAW,GAACD,IAAI,CAC7B;EACL;EAGIE,GAAG,CAACC,CAAS;IAETA,CAAC,CAACC,QAAQ,EAAE;IACZ,IAAI,CAACT,QAAQ,CAACU,aAAa,CAACF,CAAC,CAACG,EAAE,EAAEH,CAAC,CAAC,CAACJ,SAAS,CAAC,MAAI,IAAI,CAACF,WAAW,EAAE,CAAC;EAG1E;EACAU,IAAI,CAACJ,CAAS;IACZA,CAAC,CAACK,IAAI,EAAE;EACV;EAEAC,WAAW,CAACH,EAAS;IACzB,IAAI,CAACZ,CAAC,CAACgB,QAAQ,CAAC,CAAC,gBAAgB,EAAEJ,EAAE,CAAC,CAAC;EACnC;EAGAK,MAAM,CAACR,CAAU;IACf,IAAI,CAACR,QAAQ,CAACiB,aAAa,CAACT,CAAC,CAACG,EAAE,CAAC,CAACP,SAAS,CACzC,MAAI;MACFc,KAAK,CAAC,UAAU,CAAC;MACjB,IAAI,CAAChB,WAAW,EAAE;MAClB;IACN,CAAC,CAAC;EAEF;CACH;;AA1CYL,iBAAiB,eAN7BD,SAAS,CAAC;EACTuB,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CAEvC,CAAC,GACWxB,iBAAiB,CA0C7B;SA1CYA,iBAAiB","names":["Component","ProductsComponent","constructor","R","productS","ngOnInit","getProducts","getAllproducts","subscribe","data","productList","Buy","P","quantity","updateProduct","id","Like","like","showDetails","navigate","delete","deleteProduct","alert","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\safas\\OneDrive\\Desktop\\Esprit\\SE1\\AngularSE23\\src\\app\\products\\products.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Product } from '../Models/Product';\r\nimport { ProductService } from '../services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-products',\r\n  templateUrl: './products.component.html',\r\n  styleUrls: ['./products.component.css'],\r\n\r\n})\r\nexport class ProductsComponent implements OnInit{\r\n  error= false\r\n  productList!:Product[];\r\n  prix!:number;\r\n   \r\n    constructor(private R: Router, private productS:ProductService){}\r\n      \r\n    ngOnInit(): void {\r\n        this.getProducts();\r\n      }\r\ngetProducts(){\r\n  this.productS.getAllproducts().subscribe(\r\n    data =>  this.productList=data \r\n    );\r\n}\r\n\r\n\r\n    Buy(P:Product){\r\n     \r\n        P.quantity--;\r\n        this.productS.updateProduct(P.id, P).subscribe(()=>this.getProducts());\r\n      \r\n\r\n    }\r\n    Like(P:Product){\r\n      P.like++;\r\n    }\r\n\r\n    showDetails(id:number){\r\nthis.R.navigate(['productDetails', id]);\r\n    }\r\n\r\n\r\n    delete(P: Product){\r\n      this.productS.deleteProduct(P.id).subscribe(\r\n        ()=> {\r\n          alert('Deleted!');\r\n          this.getProducts();\r\n          //this.R.navigate(['/product']);\r\n    })\r\n      \r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}